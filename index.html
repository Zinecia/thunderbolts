<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Extraterritorial</title>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
<style>
body {
background: url('https://image.tmdb.org/t/p/w500//14UFWFJsGeInCbhTiehRLTff4Yx.jpg') no-repeat center center fixed;
background-size: cover;
}
.overlay {
background-color: rgba(18, 18, 18, 0.85);
}
</style>
</head>
<body class="text-white font-sans">
<div class="overlay min-h-screen">
<div class="max-w-4xl mx-auto p-4">
<!-- Iframe Video -->
<div class="rounded-md overflow-hidden relative aspect-video bg-black">
<iframe class="w-full h-full" src="__MP4__" title="" frameborder="0" allowfullscreen></iframe>
</div>

<!-- Movie Info Section -->
<div class="flex space-x-4 mt-4 bg-[#1a1a1a] p-4 rounded-md items-center" data-id="">
<!-- Contenedor del cartel centrado -->
<div class="flex items-center justify-center w-[110px] h-[160px] flex-shrink-0">
<img
alt=""
class="rounded-lg w-full h-full object-cover"
src="https://image.tmdb.org/t/p/w500//bTYbNWz4kI1P3GzEVvWZwyZT7Uv.jpg"
/>
</div>

<div class="flex-1 text-white">
<h3 class="text-xl font-semibold">Extraterritorial</h3>
<p class="text-gray-300 italic text-sm">Publicado por: Lz-1</p>
<div class="flex flex-wrap items-center space-x-2 text-xs text-gray-400 mt-1">
<span>Germany, Austria</span>
<span id="info-hours"></span>
<span id="info-minutes">minutos: 109</span>
<span>Año: 2025</span>
</div>
<!-- Rating -->
<div class="flex items-center mt-3 space-x-3">
<div id="rating-value" class="bg-[#2a2a2a] rounded-md px-3 py-1 text-lg font-semibold text-white">6.8</div>
<div id="star-container" class="flex space-x-1 text-yellow-400 text-lg"></div>
</div>
<!-- Genres -->
<div class="flex space-x-6 text-xs text-gray-400 mt-3">
<span>Suspense,Acción,</span>
</div>
<!-- Botón Favoritos -->

</div>
</div>


<!-- Botones -->
<!-- Botones -->
<div class="flex flex-wrap space-x-2 mt-4 relative">
<!-- Botón Info -->
<button id="info-btn" class="bg-red-600 text-white px-4 py-2 rounded text-sm font-semibold" type="button">
Info
</button>

<!-- Botón Reparto -->
<button id="reparto-btn" class="bg-gray-700 text-gray-400 px-4 py-2 rounded text-sm font-semibold" type="button">
Reparto
</button>


<!-- Botón Favoritos -->
<button id="fav-btn" class="bg-gray-700 hover:bg-red-600 transition-colors text-white px-4 py-2 rounded text-sm font-semibold flex items-center gap-2" type="button">
<i class="far fa-heart"></i> Favoritos
</button>
</div>


<!-- Contenido de Reparto -->
<!-- Contenido de Reparto -->
<div id="reparto-section" class="hidden mt-4 bg-[#1a1a1a] p-4 rounded-md grid grid-cols-1 md:grid-cols-3 gap-4 text-center text-white">
<!-- Transmitir Pantalla -->
<a id="cast-link" href="#" target="_blank" rel="nofollow" class="bg-gray-800 hover:bg-red-600 transition-colors p-4 rounded flex flex-col items-center">
<i class="fas fa-tv text-2xl mb-2"></i>
<span class="text-sm font-semibold">Transmitir Pantalla</span>
</a>

<!-- Descargar -->
<a id="download-link" href="#" target="_blank" rel="nofollow" class="bg-gray-800 hover:bg-red-600 transition-colors p-4 rounded flex flex-col items-center">
<i class="fas fa-download text-2xl mb-2"></i>
<span class="text-sm font-semibold">Descargar</span>
</a>


</div>


<!-- Sinopsis -->
<div id="sinopsis" class="mt-4 bg-[#1a1a1a] p-4 rounded-md">
<h4 class="text-white text-lg font-semibold mb-2">Sinopsis</h4>
<p class="text-gray-300 text-sm leading-relaxed">
Cuando su hijo desaparece dentro de un consulado de EE. UU., la exsoldado de las fuerzas especiales Sara hace todo lo posible para encontrarlo... y destapa una oscura conspiración.
</p>
</div>
</div>
</div>
<!-- JS para estrellas dinámicas y favoritos -->
<script>
const rating = 6.8;
const starContainer = document.getElementById('star-container');
const fullStars = Math.floor(rating / 2);
const halfStar = rating % 2 >= 1;

for (let i = 0; i < 5; i++) {
const star = document.createElement('i');
if (i < fullStars) {
star.className = 'fas fa-star text-yellow-400';
} else if (i === fullStars && halfStar) {
star.className = 'fas fa-star-half-alt text-yellow-400';
} else {
star.className = 'fas fa-star text-gray-400';
}
starContainer.appendChild(star);
}

document.getElementById('rating-value').innerText = rating.toFixed(1);

const infoBtn = document.getElementById('info-btn');
const repartoBtn = document.getElementById('reparto-btn');
const sinopsis = document.getElementById('sinopsis');
const repartoSection = document.getElementById('reparto-section');

function setActive(button) {
infoBtn.classList.remove('bg-red-600', 'text-white');
infoBtn.classList.add('bg-gray-700', 'text-gray-400');

repartoBtn.classList.remove('bg-red-600', 'text-white');
repartoBtn.classList.add('bg-gray-700', 'text-gray-400');

button.classList.remove('bg-gray-700', 'text-gray-400');
button.classList.add('bg-red-600', 'text-white');
}

infoBtn.addEventListener('click', () => {
setActive(infoBtn);
sinopsis.classList.remove('hidden');
repartoSection.classList.add('hidden');
});

repartoBtn.addEventListener('click', () => {
setActive(repartoBtn);
sinopsis.classList.add('hidden');
repartoSection.classList.remove('hidden');
});

// Favoritos
const favBtn = document.getElementById('fav-btn');
const movieSection = document.querySelector('[data-id]');
const movieId = movieSection.getAttribute('data-id');
const movieTitle = movieSection.querySelector('h3').innerText;
const moviePoster = movieSection.querySelector('img').src;

function updateFavButton() {
if (localStorage.getItem('fav-' + movieId)) {
favBtn.classList.remove('bg-gray-700');
favBtn.classList.add('bg-red-600');
favBtn.innerHTML = '<i class="fas fa-heart"></i> Guardado';
} else {
favBtn.classList.remove('bg-red-600');
favBtn.classList.add('bg-gray-700');
favBtn.innerHTML = '<i class="far fa-heart"></i> Guardar';
}
}

favBtn.addEventListener('click', () => {
if (localStorage.getItem('fav-' + movieId)) {
localStorage.removeItem('fav-' + movieId);
} else {
// Guardamos título, poster e id en JSON
localStorage.setItem('fav-' + movieId, JSON.stringify({
id: movieId,
title: movieTitle,
poster: moviePoster,
url: window.location.href
}));

}
updateFavButton();
});

// Al cargar la página
updateFavButton();

var currentURL = window.location.href;
var cleanURL = currentURL.replace('https://', '').replace('http://', '');

document.getElementById('cast-link').href = 'Intent://' + cleanURL + '#Intent;package=com.instantbits.cast.webvideo;scheme=https;end';
document.getElementById('download-link').href = 'Intent://' + cleanURL + '#Intent;package=idm.internet.download.manager;scheme=https;end';

repartoBtn.addEventListener('click', () => {
setActive(repartoBtn);
sinopsis.classList.add('hidden');
repartoSection.classList.remove('hidden');

// Limpiamos contenido previo
repartoSection.innerHTML = '';

// Obtener URL del iframe sin "https://"
const iframeURL = document.querySelector('iframe').src.replace('https://', '');

var castBtn = document.createElement('a');
castBtn.href = 'Intent://' + iframeURL + '#Intent;package=com.instantbits.cast.webvideo;scheme=https;end';
castBtn.target = '_blank';
castBtn.rel = 'nofollow';
castBtn.className = 'flex items-center space-x-2 bg-gray-700 hover:bg-yellow-600 transition-colors text-white px-4 py-2 rounded font-semibold';
castBtn.innerHTML = '<i class="fas fa-tv text-xl"></i><span>Transmitir</span>';


var downloadBtn = document.createElement('a');
downloadBtn.href = 'Intent://' + iframeURL + '#Intent;package=idm.internet.download.manager;scheme=https;end';
downloadBtn.target = '_blank';
downloadBtn.rel = 'nofollow';
downloadBtn.className = 'flex items-center space-x-2 bg-gray-700 hover:bg-yellow-600 transition-colors text-white px-4 py-2 rounded font-semibold';
downloadBtn.innerHTML = '<i class="fas fa-download text-xl"></i><span>Descargar</span>';


// Agregar los botones
repartoSection.appendChild(castBtn);
repartoSection.appendChild(downloadBtn);

});

</script>
<br>
<br>


<nav class="fixed bottom-0 left-0 w-full bg-[#1E1E1E] flex justify-around items-center py-3 rounded-b-3xl text-white text-xs font-semibold z-50">
<a href="https://zinecia.github.io/Home" class="flex flex-col items-center space-y-1">
<i class="fas fa-home text-xl"></i><span>Inicio</span>
</a>
<a href="#" class="flex flex-col items-center space-y-1">
<i class="fas fa-th-large text-xl"></i><span>Streaming</span>
</a>
<a href="https://zinecia.github.io/Favoritos/" class="flex flex-col items-center space-y-1">
<i class="fas fa-heart text-xl"></i><span>Favoritos</span>
</a>
<a href="https://zinecia.github.io/Buscador/" class="flex flex-col items-center space-y-1">
<i class="fas fa-search text-xl"></i><span>Buscar</span>
</a>
</nav>
</body>
</html>